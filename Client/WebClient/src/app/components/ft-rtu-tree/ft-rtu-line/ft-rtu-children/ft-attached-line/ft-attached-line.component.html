<div
  class="container"
  fxLayout="row"
  [matMenuTriggerFor]="attachedLineContextMenu"
  (contextmenu)="onContextMenu($event)"
>
  <img src="{{ trace | traceMonitoringModeUri }}" alt="monitoring mode image" />
  <img src="{{ trace.state | fiberStateToUriPipe }}" alt="trace state image" />
  <p>N{{ trace.port }}: {{ trace.title }}</p>
  <mat-menu #attachedLineContextMenu="matMenu">
    <button mat-menu-item (click)="displayInformation()">
      {{ "SID_Information" | translate }}
    </button>
    <!-- <button mat-menu-item>{{ "SID_Show_trace" | translate }}</button> -->
    <button
      mat-menu-item
      (click)="assignBaseRefs()"
      [disabled]="isDetachTraceDisabled()"
    >
      {{ "SID_Base_refs_assignment" | translate }}
    </button>
    <button mat-menu-item (click)="displayState()">
      {{ "SID_State" | translate }}
    </button>
    <button mat-menu-item (click)="displayStatistics()">
      {{ "SID_Statistics" | translate }}
    </button>
    <button mat-menu-item (click)="displayLandmarks()">
      {{ "SID_Landmarks" | translate }}
    </button>
    <mat-divider></mat-divider>
    <button
      mat-menu-item
      (click)="detachTrace()"
      [disabled]="isDetachTraceDisabled()"
    >
      {{ "SID_Unplug_trace" | translate }}
    </button>
    <mat-divider></mat-divider>
    <button
      mat-menu-item
      (click)="outOfTurnMeasurement()"
      [disabled]="hasBase() || !isRtuAvailable()"
    >
      {{ "SID_Precise_monitoring_out_of_turn" | translate }}
    </button>
    <button mat-menu-item (click)="measurementClient()" [disabled]="!isRtuAvailable()">
      {{ "SID_Measurement__Client_" | translate }}
    </button>
  </mat-menu>
</div>
