<mat-card>
  <mat-card-header>
    <mat-card-title>RTU monitoring settings</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-card>
      <div class="infoTable" fxLayout="row">
        <div class="keys">
          <p>RTU</p>
        </div>
        <div class="values">
          <p>{{ vm.rtuTitle }}</p>
        </div>
      </div>
    </mat-card>
    <div class="frequencies" fxLayout="row">
      <mat-card class="preciseMode">
        <div fxLayout="column">
          <p>{{ "SID_Precise" | translate }}</p>

          <mat-form-field>
            <mat-label>measurement frequency</mat-label>
            <mat-select [(value)]="selectedPreciseMeas">
              <mat-option *ngFor="let item of itemsSource" [value]="item.index">
                {{ item.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>saving frequency</mat-label>
            <mat-select [(value)]="selectedPreciseSave">
              <mat-option *ngFor="let item of itemsSource" [value]="item.index">
                {{ item.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card>
      <mat-card class="fastMode">
        <div fxLayout="column">
          <p>{{ "SID_Fast" | translate }}</p>

          <mat-form-field>
            <mat-label>measurement frequency</mat-label>
            <mat-select [(value)]="selectedFastMeas">
              <mat-option value="pp">{{
                "SID_Permanently" | translate
              }}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-label>saving frequency</mat-label>
            <mat-select [(value)]="selectedFastSave">
              <mat-option *ngFor="let item of itemsSource" [value]="item.index">
                {{ item.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card>
    </div>
    <div class="portTable">
      <mat-card>
        <mat-table [dataSource]="portLines">
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox
                (change)="$event ? masterToggle() : null"
                [checked]="selection.hasValue() && isAllSelected()"
                [indeterminate]="selection.hasValue() && !isAllSelected()"
              >
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox
                (click)="$event.stopPropagation()"
                (change)="$event ? selection.toggle(row) : null"
                [checked]="selection.isSelected(row)"
              >
              </mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="monitoringMode">
            <mat-header-cell *matHeaderCellDef>
              <mat-checkbox color="primary"></mat-checkbox>
            </mat-header-cell>
            <mat-cell class="monitoringMode-cell" *matCellDef="let element">
              <mat-checkbox
                (click)="$event.stopPropagation()"
                (change)="$event ? onClick(element) : null"
                [(ngModel)]="element.checked"
                [disabled]="element.disabled"
                color="primary"
              ></mat-checkbox>
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="port">
            <mat-header-cell *matHeaderCellDef>{{
              "SID_Port" | translate
            }}</mat-header-cell>
            <mat-cell class="port-cell" *matCellDef="let element">{{
              element.port
            }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="traceTitle">
            <mat-header-cell *matHeaderCellDef>{{
              "SID_Trace" | translate
            }}</mat-header-cell>
            <mat-cell class="port-cell" *matCellDef="let element">{{
              element.traceTitle
            }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="duration">
            <mat-header-cell *matHeaderCellDef>{{
              "SID_Fast___Precise" | translate
            }}</mat-header-cell>
            <mat-cell class="port-cell" *matCellDef="let element">{{
              element.duration
            }}</mat-cell>
          </ng-container>

          <mat-header-row
            *matHeaderRowDef="displayedColumns; sticky: true"
          ></mat-header-row>

          <mat-row
            *matRowDef="let row; columns: displayedColumns"
            (click)="onRowClicked(row)"
          ></mat-row>
        </mat-table>
      </mat-card>
    </div>
  </mat-card-content>
</mat-card>
